<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
  function convertImgToBase64(url, callback, outputFormat) {
    var canvas = document.createElement('CANVAS'),
      ctx = canvas.getContext('2d'),
      img = new Image;
    img.crossOrigin = 'Anonymous';
    img.onload = function() {
      canvas.height = img.height;
      canvas.width = img.width;
      ctx.drawImage(img, 0, 0);
      var dataURL = canvas.toDataURL(outputFormat || 'image/png');
      callback.call(this, dataURL);
      canvas = null;
    };
    img.src = url;
  }
  convertImgToBase64('https://www.baidu.com/img/bd_logo1.png', function(base64Img) {
    // Base64DataURL
    console.log(base64Img[1]);
    console.log(base64Img);
    document.getElementsByTagName("img")[0].setAttribute("src",base64Img)
  });
</script>
</html>
